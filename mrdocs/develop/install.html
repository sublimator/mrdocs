<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Install :: MrDocs</title>
    <link rel="canonical" href="https://cppalliance.github.io/mrdocs/mrdocs/install.html">
    <meta name="generator" content="Antora 3.1.3">
<link rel="stylesheet" href="../../_/css/site.css">
<link rel="stylesheet" href="../../_/css/vendor/tabs.css">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://cppalliance.github.io/mrdocs">MrDocs</a>
      <div class="navbar-item search hide-for-print">
        <div id="search-field" class="field">
          <input id="search-input" type="text" placeholder="Search the docs">
        </div>
      </div>
      <button class="navbar-burger" aria-controls="topbar-nav" aria-expanded="false" aria-label="Toggle main menu">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="#">Home</a>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Products</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Product A</a>
            <a class="navbar-item" href="#">Product B</a>
            <a class="navbar-item" href="#">Product C</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Services</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Service A</a>
            <a class="navbar-item" href="#">Service B</a>
            <a class="navbar-item" href="#">Service C</a>
          </div>
        </div>
        <div class="navbar-item">
          <span class="control">
            <a class="button is-primary" href="#">Download</a>
          </span>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="mrdocs" data-version="develop">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <button class="nav-menu-toggle" aria-label="Toggle expand/collapse all" style="display: none"></button>
    <h3 class="title"><a href="index.html">MrDocs</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="index.html">Home</a>
  </li>
  <li class="nav-item is-current-page" data-depth="1">
    <a class="nav-link" href="install.html">Install</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="usage.html">Usage</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="config-file.html">The Configuration File</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="commands.html">Commands</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="design-notes.html">Design Notes</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="contribute.html">Contribute</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="license.html">License</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">MrDocs</span>
    <span class="version">develop</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <div class="title"><a href="../index.html">MrDocs</a></div>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../index.html">master</a>
        </li>
        <li class="version is-current">
          <a href="index.html">develop</a>
        </li>
        <li class="version">
          <a href="../v0.0.1/index.html">v0.0.1</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="index.html">MrDocs</a></li>
    <li><a href="install.html">Install</a></li>
  </ul>
</nav>
<div class="page-versions">
  <button class="version-menu-toggle" title="Show other versions of page">develop</button>
  <div class="version-menu">
    <a class="version" href="../install.html">master</a>
    <a class="version is-current" href="install.html">develop</a>
    <a class="version" href="../v0.0.1/install.html">v0.0.1</a>
  </div>
</div>
<div class="edit-this-page"><a href="https://github.com/cppalliance/mrdocs/edit/develop/docs/modules/ROOT/pages/install.adoc">Edit this Page</a></div>
</div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Install</h1>
<div class="sect1">
<h2 id="mrdocs-binaries"><a class="anchor" href="#mrdocs-binaries"></a>Binaries</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Binary packages are available from our <a href="https://github.com/cppalliance/mrdocs/releases" target="_blank" rel="noopener">Release Page</a>.
Most users should use these packages.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="mrdocs-source"><a class="anchor" href="#mrdocs-source"></a>Source</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following instructions assume we are at a parent directory that&#8217;s going to contain both the MrDocs and the third-party dependencies directories.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">+ &lt;parent-directory&gt;
  + mrdocs
  + third-party</code></pre>
</div>
</div>
<div class="paragraph">
<p>Clone the MrDocs repository with:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">git clone https://github.com/cppalliance/mrdocs</code></pre>
</div>
</div>
<div class="paragraph">
<p>Also create and go to the <code>third-party</code> directory, where we are going to download and install our dependencies:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">mkdir third-party
cd third-party</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>These instructions assume all dependencies are installed in the <code>third-party</code> directory for simplicity.
Fell free to install them anywhere you want and adjust the main MrDocs configuration command later.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="install-fmt"><a class="anchor" href="#install-fmt"></a>Fmt</h3>
<div class="paragraph">
<p>MrDocs uses the <code>fmt</code> library for formatting strings.
From the <code>third-party</code> directory, you can clone the <code>fmt</code> repository and install it with the following commands:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">git clone https://github.com/fmtlib/fmt --branch 10.2.1 --depth 1 <i class="conum" data-value="1"></i><b>(1)</b>
cd fmt
cmake -S . -B ./build -DCMAKE_BUILD_TYPE=Release -D FMT_DOC=OFF -D FMT_TEST=OFF <i class="conum" data-value="2"></i><b>(2)</b>
cmake --build ./build --config Release <i class="conum" data-value="3"></i><b>(3)</b>
cmake --install ./build --prefix ./install <i class="conum" data-value="4"></i><b>(4)</b>
cd ..</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Shallow clones the fmt repository.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Configure the fmt library with CMake, excluding the documentation and tests.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Builds the fmt library in the <code>build</code> directory.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Installs the fmt library in the <code>install</code> directory.</td>
</tr>
</table>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>All instructions in this document assume you are using a CMake version above 3.26.
Binaries are available at <a href="https://cmake.org/download/" target="_blank" rel="noopener">CMake&#8217;s official website</a>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>If you prefer using Vcpkg to install dependencies, you can install VcPkg and <code>fmt</code> with the following commands from the <code>third-party</code> directory:</p>
</div>
<div id="_tabs_1" class="openblock tabs is-sync is-loading">
<div class="content">
<div class="ulist tablist">
<ul>
<li id="_tabs_1_windows_powershell" class="tab">
<p>Windows PowerShell</p>
</li>
<li id="_tabs_1_unix_variants" class="tab">
<p>Unix Variants</p>
</li>
</ul>
</div>
<div id="_tabs_1_windows_powershell--panel" class="tabpanel" aria-labelledby="_tabs_1_windows_powershell">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">git clone https://github.com/microsoft/vcpkg.git -b master <i class="conum" data-value="1"></i><b>(1)</b>
cd vcpkg
bootstrap-vcpkg.bat <i class="conum" data-value="2"></i><b>(2)</b>
vcpkg.exe install fmt --triplet x64-windows <i class="conum" data-value="3"></i><b>(3)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Clones the Vcpkg repository.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Bootstraps Vcpkg.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Installs the <code>fmt</code> library.</td>
</tr>
</table>
</div>
</div>
<div id="_tabs_1_unix_variants--panel" class="tabpanel" aria-labelledby="_tabs_1_unix_variants">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">git clone https://github.com/microsoft/vcpkg.git -b master <i class="conum" data-value="1"></i><b>(1)</b>
cd vcpkg
./bootstrap-vcpkg.sh <i class="conum" data-value="2"></i><b>(2)</b>
./vcpkg install fmt <i class="conum" data-value="3"></i><b>(3)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Clones the Vcpkg repository.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Bootstraps Vcpkg.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Installs the <code>fmt</code> library.</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>You can also install <code>fmt</code> with Vcpkg in <em>Manifest mode</em>.
In <a href="https://learn.microsoft.com/en-us/vcpkg/users/manifests">manifest mode</a>, you declare your project&#8217;s direct dependencies in a manifest file named <code>vcpkg.json</code>.
MrDocs includes a <code>vcpkg.json.example</code> file you can duplicate or create a symlink as <code>vcpkg.json</code> to use this mode.
This file includes all the dependencies MrDocs needs, except for LLVM.</p>
</div>
<div class="paragraph">
<p>In this mode, VcPkg will create separate installed trees for each project and configuration.
This is the recommended vcpkg mode for most users, according to the <a href="https://learn.microsoft.com/en-us/vcpkg/users/manifests" target="blank_">vcpkg documentation</a>.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_duktape"><a class="anchor" href="#_duktape"></a>Duktape</h3>
<div class="paragraph">
<p>MrDocs uses the <code>duktape</code> library for JavaScript parsing.
From the <code>third-party</code> directory, you can download the <code>duktape</code> source code from the official release:</p>
</div>
<div id="_tabs_2" class="openblock tabs is-sync is-loading">
<div class="content">
<div class="ulist tablist">
<ul>
<li id="_tabs_2_windows_powershell" class="tab">
<p>Windows PowerShell</p>
</li>
<li id="_tabs_2_unix_variants" class="tab">
<p>Unix Variants</p>
</li>
</ul>
</div>
<div id="_tabs_2_windows_powershell--panel" class="tabpanel" aria-labelledby="_tabs_2_windows_powershell">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">Invoke-WebRequest -Uri "https://github.com/svaarala/duktape/releases/download/v2.7.0/duktape-2.7.0.tar.xz" -OutFile "duktape-2.7.0.tar.xz"</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Downloads the <code>duktape</code> source code.</td>
</tr>
</table>
</div>
</div>
<div id="_tabs_2_unix_variants--panel" class="tabpanel" aria-labelledby="_tabs_2_unix_variants">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">curl -LJO https://github.com/svaarala/duktape/releases/download/v2.7.0/duktape-2.7.0.tar.xz <i class="conum" data-value="1"></i><b>(1)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Downloads the <code>duktape</code> source code.</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>Then patch the Duktape source code to provide CMake support.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">tar -xf duktape-2.7.0.tar.xz <i class="conum" data-value="1"></i><b>(1)</b>
cp ../mrdocs/third-party/duktape/CMakeLists.txt ./duktape-2.7.0/CMakeLists.txt <i class="conum" data-value="2"></i><b>(2)</b>
cp ../mrdocs/third-party/duktape/duktapeConfig.cmake.in ./duktape-2.7.0/duktapeConfig.cmake.in <i class="conum" data-value="3"></i><b>(3)</b>
cd duktape-2.7.0</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Extracts the <code>duktape</code> source code.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Patches the source code with a <code>CMakeLists.txt</code> file to the <code>duktape-2.7.0</code> directory so that we can build it with CMake.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Copies the <code>duktapeConfig.cmake.in</code> file to the <code>duktape-2.7.0</code> directory so that we can install it with CMake and find it later from other CMake projects.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Now adjust the <code>duk_config.h</code> file to indicate we are statically building Duktape.</p>
</div>
<div id="_tabs_3" class="openblock tabs is-sync is-loading">
<div class="content">
<div class="ulist tablist">
<ul>
<li id="_tabs_3_windows_powershell" class="tab">
<p>Windows PowerShell</p>
</li>
<li id="_tabs_3_unix_variants" class="tab">
<p>Unix Variants</p>
</li>
</ul>
</div>
<div id="_tabs_3_windows_powershell--panel" class="tabpanel" aria-labelledby="_tabs_3_windows_powershell">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">$content = Get-Content -Path "src\duk_config.h"
$content = $content -replace '#define DUK_F_DLL_BUILD', '#undef DUK_F_DLL_BUILD'
$content | Set-Content -Path "src\duk_config.h"</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Read the content of <code>duk_config.h</code></td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Replace the <code>DUK_F_DLL_BUILD</code> macro with <code>#undef DUK_F_DLL_BUILD</code></td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Write the content back to the file</td>
</tr>
</table>
</div>
</div>
<div id="_tabs_3_unix_variants--panel" class="tabpanel" aria-labelledby="_tabs_3_unix_variants">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">sed -i 's/#define DUK_F_DLL_BUILD/#undef DUK_F_DLL_BUILD/g' "src/duk_config.h" <i class="conum" data-value="1"></i><b>(1)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Disables the <code>DUK_F_DLL_BUILD</code> macro in the <code>duk_config.h</code> file to indicate we are statically building duktape.</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>And finally install the library with CMake:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">cmake -S . -B ./build -DCMAKE_BUILD_TYPE=Release <i class="conum" data-value="1"></i><b>(1)</b>
cmake --build ./build --config Release <i class="conum" data-value="2"></i><b>(2)</b>
cmake --install ./build --prefix ./install <i class="conum" data-value="3"></i><b>(3)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Configures the <code>duktape</code> library with CMake.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Builds the <code>duktape</code> library in the <code>build</code> directory.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Installs the <code>duktape</code> library with CMake support in the <code>install</code> directory.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The scripts above downloads the <code>duktape</code> source code, extracts it, and configures it with CMake.
The CMake scripts provided by MrDocs are copied to the <code>duktape-2.7.0</code> directory to facilitate the build process with CMake and provide CMake installation scripts for other projects.</p>
</div>
<div class="paragraph">
<p>If you prefer using Vcpkg to install dependencies, you can install <code>duktape</code> with the following commands from the <code>third-party</code> directory:</p>
</div>
<div id="_tabs_4" class="openblock tabs is-sync is-loading">
<div class="content">
<div class="ulist tablist">
<ul>
<li id="_tabs_4_windows_powershell" class="tab">
<p>Windows PowerShell</p>
</li>
<li id="_tabs_4_unix_variants" class="tab">
<p>Unix Variants</p>
</li>
</ul>
</div>
<div id="_tabs_4_windows_powershell--panel" class="tabpanel" aria-labelledby="_tabs_4_windows_powershell">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">cd vcpkg
vcpkg.exe install duktape --triplet x64-windows <i class="conum" data-value="1"></i><b>(1)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Installs the <code>duktape</code> library.</td>
</tr>
</table>
</div>
</div>
<div id="_tabs_4_unix_variants--panel" class="tabpanel" aria-labelledby="_tabs_4_unix_variants">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">cd vcpkg
./vcpkg install duktape <i class="conum" data-value="1"></i><b>(1)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Installs the <code>duktape</code> library.</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
These examples assume VcPkg is already installed in the <code>third-party/vcpkg</code> directory (see the <a href="#install-fmt">Fmt</a> section).
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_libxml2"><a class="anchor" href="#_libxml2"></a>Libxml2</h3>
<div class="paragraph">
<p>MrDocs uses <code>libxml2</code> tools for tests.
Only developers need to install this dependency.
Users can skip this step.</p>
</div>
<div class="paragraph">
<p>From the <code>third-party</code> directory, you can clone the <code>libxml2</code> repository and install it with the following commands:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">git clone https://github.com/GNOME/libxml2 --branch v2.12.6 --depth 1 <i class="conum" data-value="1"></i><b>(1)</b>
cd libxml2
cmake -S . -B ./build -DCMAKE_BUILD_TYPE=Release -DLIBXML2_WITH_PROGRAMS=ON -DLIBXML2_WITH_FTP=OFF -DLIBXML2_WITH_HTTP=OFF -DLIBXML2_WITH_ICONV=OFF -DLIBXML2_WITH_LEGACY=OFF -DLIBXML2_WITH_LZMA=OFF -DLIBXML2_WITH_ZLIB=OFF -DLIBXML2_WITH_ICU=OFF -DLIBXML2_WITH_TESTS=OFF -DLIBXML2_WITH_HTML=ON -DLIBXML2_WITH_C14N=ON -DLIBXML2_WITH_CATALOG=ON -DLIBXML2_WITH_DEBUG=ON -DLIBXML2_WITH_ISO8859X=ON -DLIBXML2_WITH_MEM_DEBUG=OFF -DLIBXML2_WITH_MODULES=ON -DLIBXML2_WITH_OUTPUT=ON -DLIBXML2_WITH_PATTERN=ON -DLIBXML2_WITH_PUSH=ON -DLIBXML2_WITH_PYTHON=OFF -DLIBXML2_WITH_READER=ON -DLIBXML2_WITH_REGEXPS=ON -DLIBXML2_WITH_SAX1=ON -DLIBXML2_WITH_SCHEMAS=ON -DLIBXML2_WITH_SCHEMATRON=ON -DLIBXML2_WITH_THREADS=ON -DLIBXML2_WITH_THREAD_ALLOC=OFF -DLIBXML2_WITH_TREE=ON -DLIBXML2_WITH_VALID=ON -DLIBXML2_WITH_WRITER=ON -DLIBXML2_WITH_XINCLUDE=ON -DLIBXML2_WITH_XPATH=ON -DLIBXML2_WITH_XPTR=ON <i class="conum" data-value="2"></i><b>(2)</b>
cmake --build ./build --config Release <i class="conum" data-value="3"></i><b>(3)</b>
cmake --install ./build --prefix ./install <i class="conum" data-value="4"></i><b>(4)</b>
cd ..</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Shallow clones the libxml2 repository.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Configure the libxml2 with CMake, excluding the documentation, tests, and unwanted dependencies.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Builds libxml2 in the <code>build</code> directory.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Installs libxml2 in the <code>install</code> directory.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>If you prefer using Vcpkg to install dependencies, you can install <code>libxml2</code> with the following commands from the <code>third-party</code> directory:</p>
</div>
<div id="_tabs_5" class="openblock tabs is-sync is-loading">
<div class="content">
<div class="ulist tablist">
<ul>
<li id="_tabs_5_windows_powershell" class="tab">
<p>Windows PowerShell</p>
</li>
<li id="_tabs_5_unix_variants" class="tab">
<p>Unix Variants</p>
</li>
</ul>
</div>
<div id="_tabs_5_windows_powershell--panel" class="tabpanel" aria-labelledby="_tabs_5_windows_powershell">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">cd vcpkg
vcpkg.exe install libxml2[tools] --triplet x64-windows <i class="conum" data-value="1"></i><b>(1)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Installs <code>libxml2</code>.</td>
</tr>
</table>
</div>
</div>
<div id="_tabs_5_unix_variants--panel" class="tabpanel" aria-labelledby="_tabs_5_unix_variants">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">cd vcpkg
./vcpkg install libxml2[tools] <i class="conum" data-value="1"></i><b>(1)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Installs <code>libxml2</code>.</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
These examples assume VcPkg is already installed in the <code>third-party/vcpkg</code> directory (see the <a href="#install-fmt">Fmt</a> section).
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_llvm"><a class="anchor" href="#_llvm"></a>LLVM</h3>
<div class="paragraph">
<p>MrDocs uses LLVM to parse C++ code and extract documentation from it.
It depends on a recent version of LLVM: <a href="https://github.com/llvm/llvm-project/tree/5b959310b0fae723bd119ed8815bf1cb1a8c67d4">5b959310</a></p>
</div>
<div class="paragraph">
<p><strong>Download</strong>:</p>
</div>
<div class="paragraph">
<p>You can shallow-clone the project from the official repository.
From the <code>third-party</code> directory, run the following commands:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">mkdir -p llvm-project <i class="conum" data-value="1"></i><b>(1)</b>
cd llvm-project
git init <i class="conum" data-value="2"></i><b>(2)</b>
git remote add origin https://github.com/llvm/llvm-project.git <i class="conum" data-value="3"></i><b>(3)</b>
git fetch --depth 1 origin 5b959310b0fae723bd119ed8815bf1cb1a8c67d4 <i class="conum" data-value="4"></i><b>(4)</b>
git checkout FETCH_HEAD <i class="conum" data-value="5"></i><b>(5)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Create a directory for the llvm-project instead of cloning it</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Initialize a git repository</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Add the official LLVM repository as a remote</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Fetch the commit we want to use: this allows us to shallow-clone the repository at this commit</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>Checkout the commit we want to use</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><strong>Configure</strong>:</p>
</div>
<div class="paragraph">
<p>The <code>mrdocs/third-party/llvm</code> directory provides <a href="https://cmake.org/cmake/help/latest/manual/cmake-presets.7.html" target="_blank" rel="noopener">CMake presets</a> to build LLVM.
We recommend using preset files as they contain a replicable set of CMake configuration values that can be used for a project.
From <code>third-party/llvm-project</code>, you can copy the <code>CMakePresets.json</code> and <code>CMakeUserPresets.json</code> files to the <code>llvm-project/llvm</code> directory.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">cp ../../mrdocs/third-party/llvm/CMakePresets.json ./llvm
cp ../../mrdocs/third-party/llvm/CMakeUserPresets.json.example ./llvm/CMakeUserPresets.json</code></pre>
</div>
</div>
<div class="paragraph">
<p>Run a command such as the following to configure LLVM:</p>
</div>
<div id="_tabs_6" class="openblock tabs is-sync is-loading">
<div class="content">
<div class="ulist tablist">
<ul>
<li id="_tabs_6_windows_powershell" class="tab">
<p>Windows PowerShell</p>
</li>
<li id="_tabs_6_unix_variants" class="tab">
<p>Unix Variants</p>
</li>
</ul>
</div>
<div id="_tabs_6_windows_powershell--panel" class="tabpanel" aria-labelledby="_tabs_6_windows_powershell">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">cd llvm
cmake -S . -B ./build --preset=release-win</code></pre>
</div>
</div>
</div>
<div id="_tabs_6_unix_variants--panel" class="tabpanel" aria-labelledby="_tabs_6_unix_variants">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">cd llvm
cmake -S . -B ./build --preset=release-unix</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>In the example above, we configure a <code>Release</code> version of LLVM for MrDocs.
Choose one of the presets from <code>CMakePresets.json</code> or edit the variants in <code>CMakeUserPresets.json</code> to customize the configurations.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Developers might also want to build a custom <code>Debug</code> LLVM configuration including optimizations, which allows for faster execution of tests.
The <code>relwithdebinfo</code> and <code>debwithopt</code> presets are provided for this purpose.
Or if you prefer using the command line, set <code>CMAKE_CONFIGURATION_TYPES</code> or <code>CMAKE_BUILD_TYPE</code> to <code>Debug</code> and manually include the optimization flags to <code>-D CMAKE_CXX_FLAGS="/O2 /Zi"</code> (MSVC) or <code>-D CMAKE_CXX_FLAGS="-Og -g"</code>.</p>
</div>
<div class="paragraph">
<p>This should give you an optimized build with all debug features and flags, such as an appropriate <a href="https://learn.microsoft.com/en-us/cpp/standard-library/iterator-debug-level"><code>_ITERATOR_DEBUG_LEVEL</code></a> and the <code>/MDd</code> flag in MSVC.
In other platforms, this should give you a release somewhat equivalent to <code>RelWithDebInfo</code> optimized for debugging experience. <code>-Og</code> offers a reasonable level of optimization while maintaining fast compilation and a good debugging experience.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><strong>Build</strong>:</p>
</div>
<div class="paragraph">
<p>Build and install the configured version of LLVM with:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">cmake --build ./build --config Release --parallel 4
cmake --install ./build --prefix ../install</code></pre>
</div>
</div>
<div class="paragraph">
<p>Replace 4 with the number of cores you want to use for building LLVM.</p>
</div>
<div class="paragraph">
<p>Return from <code>./third-party/llvm-project/llvm</code> to the parent directory to build and install MrDocs:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">cd ../../..</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_mrdocs"><a class="anchor" href="#_mrdocs"></a>MrDocs</h3>
<div class="paragraph">
<p>Return from <code>./third-party/vcpkg</code> to the parent directory of <code>third-party</code> (the one containing the <code>mrdocs</code> directory) to build and install MrDocs:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">cd ../..</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Configure</strong>:</p>
</div>
<div class="paragraph">
<p>You can also configure MrDocs with <a href="#mrdocs-configure-cmd-line">command line arguments</a> or <a href="#mrdocs-configure-presets">CMake presets</a>.</p>
</div>
<div id="mrdocs-configure-cmd-line" class="paragraph">
<p><em>Configure with Command Line Arguments</em>:</p>
</div>
<div class="paragraph">
<p>With the dependencies are available in <code>third-party</code>, you can configure MrDocs with:</p>
</div>
<div id="_tabs_7" class="openblock tabs is-sync is-loading">
<div class="content">
<div class="ulist tablist">
<ul>
<li id="_tabs_7_windows_powershell" class="tab">
<p>Windows PowerShell</p>
</li>
<li id="_tabs_7_unix_variants" class="tab">
<p>Unix Variants</p>
</li>
</ul>
</div>
<div id="_tabs_7_windows_powershell--panel" class="tabpanel" aria-labelledby="_tabs_7_windows_powershell">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-commandline hljs" data-lang="commandline">cmake -S mrdocs -B build -G "Visual Studio 17 2022" -A x64 -D CMAKE_CONFIGURATION_TYPES="RelWithDebInfo" -D CMAKE_EXPORT_COMPILE_COMMANDS=ON -D LLVM_ROOT="%cd%/third-party/llvm+clang/RelWithDebInfo" -D DUKTAPE_SOURCE_ROOT="%cd%/third-party/duktape-2.7.0" -D CMAKE_TOOLCHAIN_FILE="%cd%/third-party/vcpkg/scripts/buildsystems/vcpkg.cmake"</code></pre>
</div>
</div>
</div>
<div id="_tabs_7_unix_variants--panel" class="tabpanel" aria-labelledby="_tabs_7_unix_variants">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">cmake -S mrdocs -B build -D CMAKE_BUILD_TYPE=RelWithDebInfo -D CMAKE_EXPORT_COMPILE_COMMANDS=ON -D LLVM_ROOT="$(pwd)/third-party/llvm+clang/RelWithDebInfo" -D DUKTAPE_SOURCE_ROOT="$(pwd)/third-party/duktape-2.7.0" -D CMAKE_TOOLCHAIN_FILE="$(pwd)/third-party/vcpkg/scripts/buildsystems/vcpkg.cmake"</code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="mrdocs-configure-presets" class="paragraph">
<p><em>Configure with CMake Presets</em>:</p>
</div>
<div class="paragraph">
<p>The MrDocs repository also includes a <code>CMakePresets.json</code> file that contains the parameters to configure MrDocs with CMake.</p>
</div>
<div class="paragraph">
<p>To specify the installation directories, you can use the <code>LLVM_ROOT</code>, <code>DUKTAPE_SOURCE_ROOT</code>, <code>CMAKE_TOOLCHAIN_FILE</code> environment variables.
To specify a generator (<code>-G</code>) and platform name (<code>-A</code>), you can use the <code>CMAKE_GENERATOR</code> and <code>CMAKE_GENERATOR_PLATFORM</code> environment variables.</p>
</div>
<div class="paragraph">
<p>You can also customize the presets by duplicating and editing the <code>CMakeUserPresets.json.example</code> file in the <code>mrdocs</code> directory.
This is typically more convenient than using environment variables.</p>
</div>
<div class="paragraph">
<p><strong>Build</strong>:</p>
</div>
<div class="paragraph">
<p>Then build and install MrDocs with:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">cd build
cmake --build .
cmake --install .</code></pre>
</div>
</div>
<div class="paragraph">
<p>To customize the installation directory, use the <code>CMAKE_INSTALL_PREFIX</code> option or use the <code>--prefix</code> option for the <code>cmake --install .</code> command.
To customize the C and C++ compilers, use the <code>CMAKE_C_COMPILER</code> and <code>CMAKE_CXX_COMPILER</code> options.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Developers should also enable <code>-D BUILD_TESTING=ON</code>.
If any custom build of LLVM other than <code>RelWithDebInfo</code> is being used, the <code>LLVM_ROOT</code> variable should be set to the installation directory of that build.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_package_layout"><a class="anchor" href="#_package_layout"></a>Package layout</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The MrDocs installation directory follows the "Filesystem Hierarchy Standard" (FHS) layout:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>bin</code>: the MrDocs executable intended to be used by users or invoked from the command line.</p>
</li>
<li>
<p><code>share</code>: resource files installed by MrDocs</p>
</li>
<li>
<p><code>doc</code>: the MrDocs documentation</p>
</li>
<li>
<p><code>include</code>: the MrDocs headers</p>
</li>
<li>
<p><code>lib</code>: the MrDocs library</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The FHS layout provides a directory structure that also serves as a widely accepted convention for organizing files and directories in Unix-like systems, but that can be used in any operating system.</p>
</div>
</div>
</div>
</article>
  </div>
</main>
</div>
<footer class="footer">
  <p>This page was built using the Antora default UI.</p>
  <p>The source code for this UI is licensed under the terms of the MPL-2.0 license.</p>
</footer>
<script id="site-script" src="../../_/js/site.js" data-ui-root-path="../../_"></script>
<script async src="../../_/js/vendor/highlight.js"></script>
<script async src="../../_/js/vendor/tabs.js"></script>
<script src="../../_/js/vendor/lunr.js"></script>
<script src="../../_/js/search-ui.js" id="search-ui-script" data-site-root-path="../.." data-snippet-length="100" data-stylesheet="../../_/css/search.css"></script>
<script async src="../../search-index.js"></script>
  </body>
</html>
