<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Install :: MrDocs</title>
    <link rel="canonical" href="https://cppalliance.github.io/mrdocs/mrdocs/install.html">
    <meta name="generator" content="Antora 3.1.3">
<link rel="stylesheet" href="../../_/css/site.css">
<link rel="stylesheet" href="../../_/css/vendor/tabs.css">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://cppalliance.github.io/mrdocs">MrDocs</a>
      <div class="navbar-item search hide-for-print">
        <div id="search-field" class="field">
          <input id="search-input" type="text" placeholder="Search the docs">
        </div>
      </div>
      <button class="navbar-burger" aria-controls="topbar-nav" aria-expanded="false" aria-label="Toggle main menu">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="#">Home</a>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Products</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Product A</a>
            <a class="navbar-item" href="#">Product B</a>
            <a class="navbar-item" href="#">Product C</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Services</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Service A</a>
            <a class="navbar-item" href="#">Service B</a>
            <a class="navbar-item" href="#">Service C</a>
          </div>
        </div>
        <div class="navbar-item">
          <span class="control">
            <a class="button is-primary" href="#">Download</a>
          </span>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="mrdocs" data-version="v0.0.1">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <button class="nav-menu-toggle" aria-label="Toggle expand/collapse all" style="display: none"></button>
    <h3 class="title"><a href="index.html">MrDocs</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="index.html">Home</a>
  </li>
  <li class="nav-item is-current-page" data-depth="1">
    <a class="nav-link" href="install.html">Install</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="usage.html">Usage</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="config-file.html">The Configuration File</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="commands.html">Commands</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="design-notes.html">Design Notes</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="contribute.html">Contribute</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="license.html">License</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">MrDocs</span>
    <span class="version">v0.0.1</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <div class="title"><a href="../index.html">MrDocs</a></div>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../index.html">master</a>
        </li>
        <li class="version">
          <a href="../develop/index.html">develop</a>
        </li>
        <li class="version is-current">
          <a href="index.html">v0.0.1</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="index.html">MrDocs</a></li>
    <li><a href="install.html">Install</a></li>
  </ul>
</nav>
<div class="page-versions">
  <button class="version-menu-toggle" title="Show other versions of page">v0.0.1</button>
  <div class="version-menu">
    <a class="version" href="../install.html">master</a>
    <a class="version" href="../develop/install.html">develop</a>
    <a class="version is-current" href="install.html">v0.0.1</a>
  </div>
</div>
<div class="edit-this-page"><a href="https://github.com/cppalliance/mrdocs/edit/v0.0.1/docs/modules/ROOT/pages/install.adoc">Edit this Page</a></div>
</div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Install</h1>
<div class="sect1">
<h2 id="mrdocs-binaries"><a class="anchor" href="#mrdocs-binaries"></a>Binaries</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Binary packages are available from our <a href="https://github.com/cppalliance/mrdocs/releases" target="_blank" rel="noopener">Release Page</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_source"><a class="anchor" href="#_source"></a>Source</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Clone the MrDocs repository with:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">git clone https://github.com/cppalliance/mrdocs</code></pre>
</div>
</div>
<div class="paragraph">
<p>Also create and go to the <code>third-party</code> directory, where we are going to download and install our dependencies:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">mkdir third-party
cd third-party</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>These instructions assume all dependencies are installed in the <code>third-party</code> directory for simplicity.
Fell free to install them anywhere you want and adjust the main MrDocs configuration command later.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="_installing_llvm"><a class="anchor" href="#_installing_llvm"></a>Installing LLVM</h3>
<div class="paragraph">
<p>MrDocs uses LLVM to parse C++ code and extract documentation from it.
It depends on a recent version of LLVM: <a href="https://github.com/llvm/llvm-project/tree/29b20829cc6ce3e6d9c3809164994c1659e0da56">29b20829</a></p>
</div>
<div id="llvm-binaries" class="paragraph">
<p><strong>Binaries</strong>:</p>
</div>
<div class="paragraph">
<p>Because building LLVM may take many hours to complete, we provide pre-built binaries for Windows and Linux:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top"><a href="https://cmake.org/cmake/help/latest/manual/cmake-presets.7.html" target="_blank" rel="noopener">CMake Preset</a></th>
<th class="tableblock halign-left valign-top"><a href="https://cmake.org/cmake/help/latest/variable/CMAKE_BUILD_TYPE.html" target="_blank" rel="noopener">CMake Build</a></th>
<th class="tableblock halign-left valign-top">Debug Info</th>
<th class="tableblock halign-left valign-top">Optimized</th>
<th class="tableblock halign-left valign-top"><a href="https://learn.microsoft.com/en-us/visualstudio/ide/understanding-build-configurations?view=vs-2022" target="_blank" rel="noopener">MSVC Build</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ü™ü <a href="https://mrdox.com/llvm+clang/Windows-Release-29b20829.7z"><code>Windows-Release-29b20829.7z</code></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">üöÄ Release</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">üöÄ Release</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">‚ùå</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">‚úÖ</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">üöÄ Release</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ü™ü <a href="https://mrdox.com/llvm+clang/Windows-Debug-29b20829.7z"><code>Windows-Debug-29b20829.7z</code></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">üêû Debug</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">üêû Debug</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">‚úÖ</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">‚ùå</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">üêû Debug</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ü™ü <a href="https://mrdox.com/llvm+clang/Windows-RelWithDebInfo-29b20829.7z"><code>Windows-RelWithDebInfo-29b20829.7z</code></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">üïµÔ∏è‚Äç‚ôÇÔ∏è RelWithDebInfo</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">üïµÔ∏è‚Äç‚ôÇÔ∏è RelWithDebInfo</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">‚úÖ</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">‚úÖ</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">üöÄ Release</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ü™ü <a href="https://mrdox.com/llvm+clang/Windows-DebWithOpt-29b20829.7z"><code>Windows-DebWithOpt-29b20829.7z</code></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">üî¨ DebWithOpt</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">üêû Debug</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">‚úÖ</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">‚úÖ</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">üêû Debug</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">üêß <a href="https://mrdox.com/llvm+clang/Linux-Release-29b20829.tar.xz"><code>Linux-Release-29b20829.tar.xz</code></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">üöÄ Release</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">üöÄ Release</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">‚ùå</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">‚úÖ</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">N/A</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">üêß <a href="https://mrdox.com/llvm+clang/Linux-Debug-29b20829.tar.xz"><code>Linux-Debug-29b20829.tar.xz</code></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">üêû Debug</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">üêû Debug</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">‚úÖ</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">‚ùå</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">N/A</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">üêß <a href="https://mrdox.com/llvm+clang/Linux-RelWithDebInfo-29b20829.tar.xz"><code>Linux-RelWithDebInfo-29b20829.tar.xz</code></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">üïµÔ∏è‚Äç‚ôÇÔ∏è RelWithDebInfo</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">üïµÔ∏è‚Äç‚ôÇÔ∏è RelWithDebInfo</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">‚úÖ</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">‚úÖ</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">N/A</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">üêß <a href="https://mrdox.com/llvm+clang/Linux-DebWithOpt-29b20829.tar.xz"><code>Linux-DebWithOpt-29b20829.tar.xz</code></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">üî¨ DebWithOpt</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">üêû Debug</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">‚úÖ</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">‚úÖ</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">N/A</p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
The Linux binaries are built on Ubuntu 22.04 and may not work on other distributions.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>You can download the binaries and uncompress them in the <code>./third-party/llvm+clang</code> directory we created in the previous step.</p>
</div>
<div class="paragraph">
<p>LLVM binaries are provided in a number of preset configurations.
Here is a brief description of each preset:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>Release</code>: this is the preset users will typically use.
It is optimized for speed and does not include debug information.</p>
</li>
<li>
<p><code>Debug</code>: this is a preset developers can use.
It includes debug information and no optimizations.
However, using a <code>Debug</code> build of LLVM to debug MrDocs might be too slow.
In this case, you can link MrDocs with <code>RelWithDebInfo</code> or <code>DebWithOpt</code>.</p>
</li>
<li>
<p><code>RelWithDebInfo</code>: this is a release build with debug information.
It is optimized for speed and includes debug information.
However, if you are working with Windows+MSVC, this preset has a <code>Release</code> build type at the MSVC level.
This means you can have conflicts with MrDocs in <code>Debug</code> mode because of LLVM setting flags such as the <code>_ITERATOR_DEBUG_LEVEL</code> and <code>/MDd</code>.
In this case, you can use <code>DebWithOpt</code> instead to avoid the conflict and subsequent workarounds.</p>
</li>
<li>
<p><code>DebWithOpt</code>: this is a debug build with optimizations.
It includes all the default Debug flags for LLVM, it&#8217;s optimized for speed, includes debug information, and causes no conflicts with MrDocs in <code>Debug</code> mode.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If you chose to use the provided binaries instead of building LLVM from source, you can skip to the <a href="#duktape">[duktape]</a> section.</p>
</div>
<div class="paragraph">
<p><strong>Download</strong>:</p>
</div>
<div class="paragraph">
<p>Alternatively, if building LLVM from source, you can clone the project from the official repository:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">git clone https://github.com/llvm/llvm-project.git
cd llvm-project
git checkout 29b20829cc6ce3e6d9c3809164994c1659e0da56
cd llvm</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Configure</strong>:</p>
</div>
<div class="paragraph">
<p>There are two ways to configure LLVM: using <a href="#llvm-configure-presets">CMake presets</a> or using <a href="#llvm-configure-cmd-line">CMake directly</a>.</p>
</div>
<div id="llvm-configure-presets" class="paragraph">
<p><em>Configure with CMake Presets</em></p>
</div>
<div class="paragraph">
<p>We recommend using <a href="https://cmake.org/cmake/help/latest/manual/cmake-presets.7.html" target="_blank" rel="noopener">CMake presets</a> to build LLVM.
Preset files contain a replicable set of CMake configuration values that can be used to configure a project.</p>
</div>
<div class="paragraph">
<p>Instead of passing all CMake configuration values on the command line, a template for the <code>CMakePresets.json</code> and <code>CMakeUserPresets.json</code> files is provided in the repository&#8217;s <code>third-party/llvm</code> directory.
Copy these files to the <code>llvm-project/llvm</code> directory and run a command such as the following to configure LLVM:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">cmake -preset=relwithdebinfo-win</code></pre>
</div>
</div>
<div class="paragraph">
<p>In the example above, we configure a <code>RelWithDebInfo</code> version of LLVM for MrDocs: a release build with debug information.</p>
</div>
<div class="paragraph">
<p>Choose one of the presets from <code>CMakePresets.json</code> or edit the variants in <code>CMakeUserPresets.json</code> to customize the configurations.
The <code>CMakeUserPresets.json</code> file comes with presets for all the configurations described in the <a href="#llvm-binaries">Binaries</a> section.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Developers might also want to build a custom <code>Debug</code> LLVM configuration including optimizations, which allows for faster execution of tests.
The <code>relwithdebinfo</code> and <code>debwithopt</code> presets are provided for this purpose.
Or if you prefer using the command line, set <code>CMAKE_CONFIGURATION_TYPES</code> or <code>CMAKE_BUILD_TYPE</code> to <code>Debug</code> and manually include the optimization flags to <code>-D CMAKE_CXX_FLAGS="/O2 /Zi"</code> (MSVC) or <code>-D CMAKE_CXX_FLAGS="-Og -g"</code>.</p>
</div>
<div class="paragraph">
<p>This should give you an optimized build with all debug features and flags, such as an appropriate <a href="https://learn.microsoft.com/en-us/cpp/standard-library/iterator-debug-level"><code>_ITERATOR_DEBUG_LEVEL</code></a> and the <code>/MDd</code> flag in MSVC.
In other platforms, this should give you a release somewhat equivalent to <code>RelWithDebInfo</code> optimized for debugging experience. <code>-Og</code> offers a reasonable level of optimization while maintaining fast compilation and a good debugging experience.</p>
</div>
</td>
</tr>
</table>
</div>
<div id="llvm-configure-cmd-line" class="paragraph">
<p><em>Configure with Command Line Arguments</em>:</p>
</div>
<div class="paragraph">
<p>You can also configure LLVM directly with the settings required by MrDocs:</p>
</div>
<div class="paragraph">
<p>Windows (from administrator <code>cmd.exe</code>, after running <code>vcvars64.bat</code>):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-commandline hljs" data-lang="commandline">cmake -S llvm -B build/MSVC/RelWithDebInfo -G "Ninja" -A x64 -D LLVM_ENABLE_PROJECTS="clang" -D CMAKE_CONFIGURATION_TYPES="RelWithDebInfo" -D LLVM_ENABLE_RTTI=ON -D CMAKE_INSTALL_PREFIX=../llvm+clang/RelWithDebInfo -D LLVM_ENABLE_IDE=OFF -D LLVM_ENABLE_DIA_SDK=OFF</code></pre>
</div>
</div>
<div class="paragraph">
<p>Unix variants:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">cmake -S llvm -B build/Linux/RelWithDebInfo -D LLVM_ENABLE_PROJECTS="clang" -D CMAKE_BUILD_TYPE=RelWithDebInfo -D LLVM_ENABLE_RTTI=ON -D CMAKE_INSTALL_PREFIX=../llvm+clang/RelWithDebInfo</code></pre>
</div>
</div>
<div class="paragraph">
<p>Unlike the <a href="#llvm-configure-presets">CMake presets</a>, this command does not a number of parameters that removes features that are not required by MrDocs, thus increasing the build time and size of the installation.</p>
</div>
<div class="paragraph">
<p><strong>Build</strong>:</p>
</div>
<div class="paragraph">
<p>Build and install the configured version of LLVM with:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">cd build
cmake --build . --config RelWithDebInfo
cmake --install . --prefix ../../llvm+clang/RelWithDebInfo" --config RelWithDebInfo</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you prefer using the provided CMake presets, you can also use the <code>--preset</code> option for the <code>build</code> command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">cd build
cmake --build --preset=relwithdebinfo-win
cmake --install MSVC/RelWithDebInfo --config RelWithDebInfo</code></pre>
</div>
</div>
<div class="paragraph">
<p>Return from <code>./third-party/llvm-project/build</code> to the parent <code>third-party</code> directory to install other dependencies:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">cd ../..</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_cmake_dependencies"><a class="anchor" href="#_cmake_dependencies"></a>CMake dependencies</h3>
<div class="paragraph">
<p>All other dependencies provide CMake integration scripts and can be obtained from <a href="https://www.vcpkg.io/">vcpkg</a> or installed manually.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>fmt</code> &gt;= 10</p>
</li>
<li>
<p><code>duktape</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For development builds, which include tests, you will also need:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>libxml2[tools]</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The instructions in this documentation will use vcpkg for these.</p>
</div>
<div class="paragraph">
<p><strong>Installing vcpkg</strong>:</p>
</div>
<div class="paragraph">
<p>If you don&#8217;t have vcpkg installed, clone the repository:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">git clone https://github.com/microsoft/vcpkg.git -b master
cd vcpkg</code></pre>
</div>
</div>
<div class="paragraph">
<p>and bootstrap it:</p>
</div>
<div class="paragraph">
<p>Windows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">bootstrap-vcpkg.bat</code></pre>
</div>
</div>
<div class="paragraph">
<p>Unix variants:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">./bootstrap-vcpkg.sh</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Installing dependencies</strong>:</p>
</div>
<div class="paragraph">
<p>vcpkg has two operation modes with which you can install these dependencies: <a href="#vcpkg-classic-mode">classic mode</a> and <a href="#vcpkg-manifest-mode">manifest mode</a>.</p>
</div>
<div id="vcpkg-classic-mode" class="paragraph">
<p><em>Classic mode</em>:</p>
</div>
<div class="paragraph">
<p>In vcpkg <a href="https://learn.microsoft.com/en-us/vcpkg/users/classic-mode" target="blank_">classic mode</a>, vcpkg maintains a central installed tree inside the vcpkg instance built up by individual <code>vcpkg install</code> and <code>vcpkg remove</code> commands.
This central set of packages can then be shared by any number of projects.
However, each instance of vcpkg (a separate git clone) will have its own set of packages installed.</p>
</div>
<div class="paragraph">
<p>To install these dependencies with vcpkg in classic mode:</p>
</div>
<div class="paragraph">
<p>Windows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">vcpkg.exe fmt zlib libxml2[tools] --triplet x64-windows</code></pre>
</div>
</div>
<div class="paragraph">
<p>Unix variants:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">./vcpkg fmt zlib libxml2[tools]</code></pre>
</div>
</div>
<div id="vcpkg-manifest-mode" class="paragraph">
<p><em>Manifest mode</em>:</p>
</div>
<div class="paragraph">
<p>In <a href="https://learn.microsoft.com/en-us/vcpkg/users/manifests">manifest mode</a>, you declare your project&#8217;s direct dependencies in a manifest file named <code>vcpkg.json</code>.
MrDocs includes a <code>vcpkg.json.example</code> file you can duplicate or create a symlink as <code>vcpkg.json</code> to use this mode.
MrDocs is a CMake project that then already includes a <code>vcpkg.json</code> file, there&#8217;s nothing else you need to run to install the dependencies.</p>
</div>
<div class="paragraph">
<p>In this mode, vcpkg will create separate installed trees for each project and configuration.
This is the recommended vcpkg mode for most users according to the <a href="https://learn.microsoft.com/en-us/vcpkg/users/manifests" target="blank_">vcpkg documentation</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_mrdocs"><a class="anchor" href="#_mrdocs"></a>MrDocs</h3>
<div class="paragraph">
<p>Return from <code>./third-party/vcpkg</code> to the parent directory of <code>third-party</code> (the one containing the <code>mrdocs</code> directory) to build and install MrDocs:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">cd ../..</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Configure</strong>:</p>
</div>
<div class="paragraph">
<p>You can also configure MrDocs with <a href="#mrdocs-configure-cmd-line">command line arguments</a> or <a href="#mrdocs-configure-presets">CMake presets</a>.</p>
</div>
<div id="mrdocs-configure-cmd-line" class="paragraph">
<p><em>Configure with Command Line Arguments</em>:</p>
</div>
<div class="paragraph">
<p>With the dependencies are available in <code>third-party</code>, you can configure MrDocs with:</p>
</div>
<div class="paragraph">
<p>Windows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-commandline hljs" data-lang="commandline">cmake -S mrdocs -B build -G "Visual Studio 17 2022" -A x64 -D CMAKE_CONFIGURATION_TYPES="RelWithDebInfo" -D CMAKE_EXPORT_COMPILE_COMMANDS=ON -D LLVM_ROOT="%cd%/third-party/llvm+clang/RelWithDebInfo" -D DUKTAPE_SOURCE_ROOT="%cd%/third-party/duktape-2.7.0" -D CMAKE_TOOLCHAIN_FILE="%cd%/third-party/vcpkg/scripts/buildsystems/vcpkg.cmake"</code></pre>
</div>
</div>
<div class="paragraph">
<p>Unix variants:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">cmake -S mrdocs -B build -D CMAKE_BUILD_TYPE=RelWithDebInfo -D CMAKE_EXPORT_COMPILE_COMMANDS=ON -D LLVM_ROOT="$(pwd)/third-party/llvm+clang/RelWithDebInfo" -D DUKTAPE_SOURCE_ROOT="$(pwd)/third-party/duktape-2.7.0" -D CMAKE_TOOLCHAIN_FILE="$(pwd)/third-party/vcpkg/scripts/buildsystems/vcpkg.cmake"</code></pre>
</div>
</div>
<div id="mrdocs-configure-presets" class="paragraph">
<p><em>Configure with CMake Presets</em>:</p>
</div>
<div class="paragraph">
<p>The MrDocs repository also includes a <code>CMakePresets.json</code> file that contains the parameters to configure MrDocs with CMake.</p>
</div>
<div class="paragraph">
<p>To specify the installation directories, you can use the <code>LLVM_ROOT</code>, <code>DUKTAPE_SOURCE_ROOT</code>, <code>CMAKE_TOOLCHAIN_FILE</code> environment variables.
To specify a generator (<code>-G</code>) and platform name (<code>-A</code>), you can use the <code>CMAKE_GENERATOR</code> and <code>CMAKE_GENERATOR_PLATFORM</code> environment variables.</p>
</div>
<div class="paragraph">
<p>You can also customize the presets by duplicating and editing the <code>CMakeUserPresets.json.example</code> file in the <code>mrdocs</code> directory.
This is typically more convenient than using environment variables.</p>
</div>
<div class="paragraph">
<p><strong>Build</strong>:</p>
</div>
<div class="paragraph">
<p>Then build and install MrDocs with:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">cd build
cmake --build .
cmake --install .</code></pre>
</div>
</div>
<div class="paragraph">
<p>To customize the installation directory, use the <code>CMAKE_INSTALL_PREFIX</code> option or use the <code>--prefix</code> option for the <code>cmake --install .</code> command.
To customize the C and C++ compilers, use the <code>CMAKE_C_COMPILER</code> and <code>CMAKE_CXX_COMPILER</code> options.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Developers should also enable <code>-D BUILD_TESTING=ON</code>.
If any custom build of LLVM other than <code>RelWithDebInfo</code> is being used, the <code>LLVM_ROOT</code> variable should be set to the installation directory of that build.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_package_layout"><a class="anchor" href="#_package_layout"></a>Package layout</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The MrDocs installation directory follows the "Filesystem Hierarchy Standard" (FHS) layout:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>bin</code>: the MrDocs executable intended to be used by users or invoked from the command line.</p>
</li>
<li>
<p><code>share</code>: resource files installed by MrDocs</p>
</li>
<li>
<p><code>doc</code>: the MrDocs documentation</p>
</li>
<li>
<p><code>include</code>: the MrDocs headers</p>
</li>
<li>
<p><code>lib</code>: the MrDocs library</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The FHS layout provides a directory structure that also serves as a widely accepted convention for organizing files and directories in Unix-like systems, but that can be used in any operating system.</p>
</div>
</div>
</div>
</article>
  </div>
</main>
</div>
<footer class="footer">
  <p>This page was built using the Antora default UI.</p>
  <p>The source code for this UI is licensed under the terms of the MPL-2.0 license.</p>
</footer>
<script id="site-script" src="../../_/js/site.js" data-ui-root-path="../../_"></script>
<script async src="../../_/js/vendor/highlight.js"></script>
<script async src="../../_/js/vendor/tabs.js"></script>
<script src="../../_/js/vendor/lunr.js"></script>
<script src="../../_/js/search-ui.js" id="search-ui-script" data-site-root-path="../.." data-snippet-length="100" data-stylesheet="../../_/css/search.css"></script>
<script async src="../../search-index.js"></script>
  </body>
</html>
